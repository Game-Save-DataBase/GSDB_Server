"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformRequestBody = void 0;
const markdown_1 = require("../../lib/markdown");
const Schema_1 = require("./models/Schema");
const dataTypes_1 = require("./dataTypes");
function transformRequestBody(requestBody) {
    const md = markdown_1.Markdown.md();
    md.line(md.string('Request Body').h4()).line();
    if ('descrtiption' in requestBody && requestBody.description) {
        md.line(md.string(requestBody.description).escape()).line();
    }
    const table = md.table();
    table.th('Required').th('Schema');
    const tr = table.tr();
    // Required
    tr.td(requestBody.required ? ' Yes' : ' No');
    const { content } = requestBody;
    const td = md.string();
    Object.keys(content).forEach((contentType) => {
        const { schema } = content[contentType];
        if (schema) {
            const schemaObject = new Schema_1.Schema(schema);
            td.concat(`${md.string(contentType).bold()}: `);
            td.concat((0, dataTypes_1.dataTypeResolver)(schemaObject)).br(true);
        }
        tr.td(td);
    });
    md.line(table);
    return md.export();
}
exports.transformRequestBody = transformRequestBody;
